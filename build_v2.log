#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.19kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 0.5s

#3 [internal] load .dockerignore
#3 transferring context: 120B done
#3 DONE 0.0s

#4 [base 1/1] FROM docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435
#4 resolve docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39f0a770265435 0.0s done
#4 DONE 0.0s

#5 [builder 1/5] WORKDIR /app
#5 CACHED

#6 [runner 2/9] RUN addgroup --system --gid 1001 nodejs
#6 CACHED

#7 [runner 3/9] RUN adduser --system --uid 1001 nextjs
#7 CACHED

#8 [internal] load build context
#8 transferring context: 3.38kB 0.0s done
#8 DONE 0.0s

#9 [deps 1/4] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [deps 2/4] WORKDIR /app
#10 CACHED

#11 [deps 3/4] COPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./
#11 CACHED

#12 [deps 4/4] RUN   if [ -f yarn.lock ]; then yarn --frozen-lockfile;   elif [ -f package-lock.json ]; then npm ci;   elif [ -f pnpm-lock.yaml ]; then corepack enable pnpm && pnpm i --frozen-lockfile;   else echo "Lockfile not found." && exit 1;   fi
#12 CACHED

#13 [builder 2/5] COPY --from=deps /app/node_modules ./node_modules
#13 CACHED

#14 [builder 3/5] COPY . .
#14 DONE 0.1s

#15 [builder 4/5] RUN npx prisma generate
#15 2.343 Failed to load config file "/app" as a TypeScript/JavaScript module. Error: PrismaConfigEnvError: Missing required environment variable: DATABASE_URL
#15 2.375 npm notice
#15 2.375 npm notice New major version of npm available! 10.8.2 -> 11.6.3
#15 2.375 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.3
#15 2.375 npm notice To update run: npm install -g npm@11.6.3
#15 2.375 npm notice
#15 ERROR: process "/bin/sh -c npx prisma generate" did not complete successfully: exit code: 1
------
 > [builder 4/5] RUN npx prisma generate:
2.343 Failed to load config file "/app" as a TypeScript/JavaScript module. Error: PrismaConfigEnvError: Missing required environment variable: DATABASE_URL
2.375 npm notice
2.375 npm notice New major version of npm available! 10.8.2 -> 11.6.3
2.375 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.3
2.375 npm notice To update run: npm install -g npm@11.6.3
2.375 npm notice
------

 5 warnings found (use docker --debug to expand):
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 27)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 38)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 40)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 61)
 - LegacyKeyValueFormat: "ENV key=value" should be used instead of legacy "ENV key value" format (line 63)
Dockerfile:30
--------------------
  28 |     
  29 |     # Generate Prisma Client
  30 | >>> RUN npx prisma generate
  31 |     
  32 |     RUN npm run build
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npx prisma generate" did not complete successfully: exit code: 1
